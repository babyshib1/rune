import{ao as e,r as a,X as t,ap as s,f as l,o as n,a as i,k as r,b as c,B as o,ai as u,F as d,l as v,j as p,t as m,d as h,an as g,s as w,E as f,v as C,x,K as y}from"./vendor-2ecfd57a.js";import{_ as b,i as k}from"./index-5c783464.js";import{b as M}from"./bscr-f4aa9d5c.js";const B=e=>(C("data-v-e300e1ee"),e=e(),x(),e),P={class:"etchCon"},_={class:"etchMiddle mw"},F={class:"market_head"},R=B((()=>c("div",{class:"title"},"Runes",-1))),S={class:"etchInput"},V=B((()=>c("i",null,null,-1))),j=[B((()=>c("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"#fff"},[c("path",{fill:"#fff",d:"m15.938 14.188 2.687 2.687c.25.25.25.625 0 .875l-.875.875a.604.604 0 0 1-.875 0L14.25 16c-1.375 1-3 1.563-4.813 1.563a8.109 8.109 0 0 1-8.124-8.125c0-4.5 3.625-8.126 8.124-8.126 4.5 0 8.126 3.625 8.126 8.126a8.52 8.52 0 0 1-1.625 4.75ZM9.375 16.25a6.855 6.855 0 0 0 6.875-6.875A6.855 6.855 0 0 0 9.375 2.5 6.855 6.855 0 0 0 2.5 9.375a6.855 6.855 0 0 0 6.875 6.875Z"})],-1)))],I=B((()=>c("div",{class:"sub-title"},"bsc-20 rune platform",-1))),L={class:"table mw relative"},N={class:"scroll"},T={class:"tableList"},$=w('<div class="tableLeft" data-v-e300e1ee><p data-v-e300e1ee>Rune</p><p class="text-center" data-v-e300e1ee>Supply</p><p class="text-center" data-v-e300e1ee>Progress</p><p class="text-center" data-v-e300e1ee>Holders</p><p class="text-center" data-v-e300e1ee>Deploy Time</p><p data-v-e300e1ee></p></div>',1),A={class:"tableRight"},D={class:"p1"},E=B((()=>c("img",{src:k,style:{width:"20px",height:"20px"}},null,-1))),H={class:"text-center"},U={class:"Progress"},Z={class:"procces_main"},G={class:"text-center"},J={class:"text-center"},K={class:"phone-fixed"},O=["onClick"],X=B((()=>c("div",{class:"pageNum"},[c("div",{class:"MuiPagination-ul"})],-1)));var q=b(e({__name:"Runes",setup(e){const w=a(null),C=a({type:"BSCR",name:"BSC-20",supply:"157,500",progress:"0%",mintedCount:0,minterCount:0,address:"0x40249a500d9e74B0c951631Fe576D7eF46598545",created:"2024-02-08 00:00:00",mintValue:t.utils.toBN(5e15),maxMintCount:157500}),x=a(""),b=()=>{},k=async()=>{try{const e=window.ethereum;if(!e)return;const a=new t(e);if(56!==await a.eth.getChainId())return f({message:"Please switch to BSC network.",type:"error"});const s=new a.eth.Contract(M,C.value.address),l=await s.methods.MINT_VALUE().call(),n=await s.methods.mintedCount().call(),i=await s.methods.minterCount().call();C.value.mintValue=t.utils.toBN(l),C.value.mintedCount=n,C.value.minterCount=i,C.value.progress=`${(n/C.value.maxMintCount*100).toFixed(2).replace(".00","")}%`}catch(e){}await new Promise((e=>setTimeout(e,3e3))),k()},B=async()=>{if(C.value.mintedCount>=C.value.maxMintCount)return f({message:"Full",type:"error"});w.value=y.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),await(async()=>{var e;const a=window.ethereum;if(!a)return void f({message:"Please connect wallet first.",type:"error"});const s=new t(a);if(56!==await s.eth.getChainId())return f({message:"Please switch to BSC network.",type:"error"});try{const e={from:await s.eth.getAccounts().then((e=>e[0])),to:C.value.address,value:C.value.mintValue,data:"0x1249c58b"},a=await s.eth.estimateGas(e),t=await s.eth.sendTransaction({...e,gas:Math.floor(1.5*a),gasPrice:3e9});f({message:`Mint transaction has been sent. ${t.transactionHash}`,type:"success"})}catch(l){let a=(null==(e=l.message)?void 0:e.message)||l.reason||l.message||l;try{a=JSON.parse(a.split("\n").slice(1).join("")),a=a.message}catch(n){}f({message:a,type:"error"})}})(),w.value.close()};return s((()=>{k()})),(e,a)=>{const t=l("page-header");return n(),i("div",P,[r(t),c("div",_,[c("div",F,[R,c("div",S,[o(c("input",{spellcheck:"false","onUpdate:modelValue":a[0]||(a[0]=e=>x.value=e),type:"text",placeholder:"enter the tick name"},null,512),[[u,x.value]]),V,c("button",{onClick:b},j)]),I])]),c("div",L,[c("div",N,[c("div",T,[$,(n(!0),i(d,null,v([C.value],((t,s)=>(n(),i("div",{class:"tableFlex relative",key:s,onClick:a[2]||(a[2]=()=>e.$router.push({path:"/RuneView"}))},[c("div",A,[c("div",D,[p(m(t.type)+" ",1),c("span",null,m(t.name),1),E]),c("div",null,[c("div",H,m(t.supply),1)]),c("div",U,[c("span",null,m(t.progress),1),c("div",Z,[c("div",{class:"index",style:h(`width: ${t.progress}`)},null,4)])]),c("div",null,[c("div",G,m(t.minterCount),1)]),c("div",null,[c("div",J,m(t.created),1)]),c("div",K,[C.value.mintedCount>=C.value.maxMintCount?(n(),i("button",{key:0,class:"mintBtn",onClick:a[1]||(a[1]=g((()=>{}),["stop"]))}," Full ")):(n(),i("button",{key:1,class:"mintBtn",onClick:g(B,["stop"])},"Mint",8,O))])])])))),128)),X])])])])}}}),[["__scopeId","data-v-e300e1ee"]]);export{q as default};
