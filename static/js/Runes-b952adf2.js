import{ao as a,r as e,X as t,ap as s,f as l,o as n,a as i,k as c,b as d,B as o,ai as r,F as u,l as p,j as v,t as m,d as h,an as g,s as w,v as f,x,E as y,K as C}from"./vendor-2ecfd57a.js";import{_ as b,i as k}from"./index-f0ccb07c.js";import{b as M}from"./bscr-f4aa9d5c.js";const B=a=>(f("data-v-0cd660a7"),a=a(),x(),a),_={class:"etchCon"},F={class:"etchMiddle mw"},P={class:"market_head"},R=B((()=>d("div",{class:"title"},"Runes",-1))),V={class:"etchInput"},j=B((()=>d("i",null,null,-1))),L=[B((()=>d("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"#fff"},[d("path",{fill:"#fff",d:"m15.938 14.188 2.687 2.687c.25.25.25.625 0 .875l-.875.875a.604.604 0 0 1-.875 0L14.25 16c-1.375 1-3 1.563-4.813 1.563a8.109 8.109 0 0 1-8.124-8.125c0-4.5 3.625-8.126 8.124-8.126 4.5 0 8.126 3.625 8.126 8.126a8.52 8.52 0 0 1-1.625 4.75ZM9.375 16.25a6.855 6.855 0 0 0 6.875-6.875A6.855 6.855 0 0 0 9.375 2.5 6.855 6.855 0 0 0 2.5 9.375a6.855 6.855 0 0 0 6.875 6.875Z"})],-1)))],N=B((()=>d("div",{class:"sub-title"},"bsc-20 rune platform",-1))),S={class:"table mw"},T={class:"scroll"},$={class:"tableList"},A=w('<div class="tableLeft" data-v-0cd660a7><p data-v-0cd660a7>Rune</p><p class="text-center" data-v-0cd660a7>Supply</p><p class="text-center" data-v-0cd660a7>Progress</p><p class="text-center" data-v-0cd660a7>Holders</p><p class="text-center" data-v-0cd660a7>Deploy Time</p><p data-v-0cd660a7></p><p style="width:20px;flex:none;height:1px;" data-v-0cd660a7></p></div>',1),I={class:"tableRight"},D={class:"p1"},E=B((()=>d("img",{src:k,style:{width:"20px",height:"20px"}},null,-1))),H={class:"text-center"},U={class:"Progress"},Z={class:"procces_main"},G={class:"text-center"},J={class:"text-center"},K=["onClick"],O=B((()=>d("div",{class:"pageNum"},[d("div",{class:"MuiPagination-ul"})],-1)));var X=b(a({__name:"Runes",setup(a){const w=e(null),f=e({type:"BSCR",name:"BSC-20",supply:"157,500",progress:"0%",mintedCount:0,minterCount:0,address:"0x40249a500d9e74B0c951631Fe576D7eF46598545",created:"2024-02-08 00:00:00",mintValue:t.utils.toBN(5e15),maxMintCount:157500}),x=e(""),b=()=>{},k=async()=>{try{const a=window.ethereum;if(!a)return;const e=new(new t(a).eth.Contract)(M,f.value.address),s=await e.methods.MINT_VALUE().call(),l=await e.methods.mintedCount().call(),n=await e.methods.minterCount().call();f.value.mintValue=t.utils.toBN(s),f.value.mintedCount=l,f.value.minterCount=n,f.value.progress=`${(l/f.value.maxMintCount*100).toFixed(2).replace(".00","")}%`}catch(a){}await new Promise((a=>setTimeout(a,3e3))),k()},B=async()=>{if(f.value.mintedCount>=f.value.maxMintCount)return y({message:"Full",type:"error"});w.value=C.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),await(async()=>{var a;const e=window.ethereum;if(e)try{const a=new t(e),s={from:await a.eth.getAccounts().then((a=>a[0])),to:f.value.address,value:f.value.mintValue,data:"0x1249c58b"},l=await a.eth.estimateGas(s),n=await a.eth.sendTransaction({...s,gas:Math.floor(1.5*l),gasPrice:3e9});y({message:`Mint transaction has been sent. ${n.transactionHash}`,type:"info"})}catch(s){let e=(null==(a=s.message)?void 0:a.message)||s.reason||s.message||s;try{e=JSON.parse(e.split("\n").slice(1).join("")),e=e.message}catch(l){}y({message:e,type:"error"})}else y({message:"Please connect wallet first.",type:"error"})})(),w.value.close()};return s((()=>{k()})),(a,e)=>{const t=l("page-header");return n(),i("div",_,[c(t),d("div",F,[d("div",P,[R,d("div",V,[o(d("input",{spellcheck:"false","onUpdate:modelValue":e[0]||(e[0]=a=>x.value=a),type:"text",placeholder:"enter the tick name"},null,512),[[r,x.value]]),j,d("button",{onClick:b},L)]),N])]),d("div",S,[d("div",T,[d("div",$,[A,(n(!0),i(u,null,p([f.value],((t,s)=>(n(),i("div",{class:"tableFlex",key:s,onClick:e[2]||(e[2]=()=>a.$router.push({path:"/RuneView"}))},[d("div",I,[d("div",D,[v(m(t.type)+" ",1),d("span",null,m(t.name),1),E]),d("div",null,[d("div",H,m(t.supply),1)]),d("div",U,[d("span",null,m(t.progress),1),d("div",Z,[d("div",{class:"index",style:h(`width: ${t.progress}`)},null,4)])]),d("div",null,[d("div",G,m(t.minterCount),1)]),d("div",null,[d("div",J,m(t.created),1)]),d("div",null,[f.value.mintedCount>=f.value.maxMintCount?(n(),i("button",{key:0,class:"mintBtn",onClick:e[1]||(e[1]=g((()=>{}),["stop"]))}," Full ")):(n(),i("button",{key:1,class:"mintBtn",onClick:g(B,["stop"])},"Mint",8,K))])])])))),128)),O])])])])}}}),[["__scopeId","data-v-0cd660a7"]]);export{X as default};
